<!DOCTYPE html lang="pt-br">
<meta charset="utf-8">

<html>
    <head>
      <title>Postos24Hrs - Localização </title> 
        <link rel="stylesheet" type="text/css" href="estilo.css">
        
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
   crossorigin=""/>
   <!-- Make sure you put this AFTER Leaflet's CSS -->

    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
   integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
   crossorigin=""></script>

    </head>
    <body>
    
        
    
        <nav id="menu">

            <ul>

                <li><a href="/pronatec/">Início</a></li>
                <li><a href="/pronatec/mapa.html">Localização</a></li>
                <li><a href="/pronatec/outros.html">Outros</a></li>
                <li><a href="/pronatec/contato.html">Contato</a></li>
                <li><a href="https://alexandrepronatec.github.io/2018_2/Aulas.html">Página da Disciplina</a></li>

            </ul>

        </nav>


        <div id="map" style=" margin-left:5%; width: 90%; height: 90%"></div>


            
            
            
        <script src="/pronatec/funcoes.js"></script>

        <script type="text/javascript">
          
         

          var map = L.map('map').setView([-7.08, -41.48], 14); 
          L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
          }).addTo(map);


          var Postos = [];

          Postos[0] = [[-7.084423,-41.470929], "Total", "R$ 3,85"];          
          Postos[1] = [[-7.08782,-41.474757], "Facilite", "R$ 2,75" ];          
          Postos[2] = [[-7.078376,-41.485132], "Shell", "R$ 4,67" ];          
          Postos[3] = [[-7.086425,-41.470261], "Três Corações", "R$ 3,10" ];          
          Postos[4] = [[-7.087948,-41.470358], "Machado", "R$ 5,10" ];          

          var Ls = [];
          
          Ls[0] = L.marker(Postos[0][0]).addTo(map);
          Ls[1] = L.marker(Postos[1][0]).addTo(map);
          Ls[2] = L.marker(Postos[2][0]).addTo(map);
          Ls[3] = L.marker(Postos[3][0]).addTo(map);
          Ls[4] = L.marker(Postos[4][0]).addTo(map);

          Ls[0].bindPopup("<b>Posto Total</b><br> Preço : R$ 3,85 <p> Nota: 3,4 </p>");
          Ls[1].bindPopup("<b>Posto Facilite</b><br> Preço : R$ 2,75 <p> Nota: 4,4 </p>");
          Ls[2].bindPopup("<b>Posto Shell</b><br> Preço : R$ 4,67 <p> Nota: 4,3 </p>");
          Ls[3].bindPopup("<b>Posto Três Corações</b><br> Preço : R$ 3,10 <p> Nota: 3,8 </p>");
          Ls[4].bindPopup("<b>Posto Machado</b><br> Preço : R$ 5,10 <p> Nota: 4,8 </p>");

    

        var popup = L.popup();

        function onMapClick(e) {
            
            var ponto = [e.latlng.lat,e.latlng.lng];
            var proximo = MaisProx(ponto);
            alert("Para esta Localização, o mais próximo é o Posto "+ Postos[proximo][1] +" \nO preço deste posto, aproximadamente, é : "+ Postos[proximo][2]);
            // popup
            //     .setLatLng(e.latlng)
            //     .setContent("Para esta Localização, o mais próximo é o Posto "+ Postos[proximo][1] +" \n o preço deste posto é: "+ Postos[proximo][2])
            //     .openOn(map);
            

        }


        map.on('click', onMapClick);



        </script>




    </body>
</html>