<!DOCTYPE html lang="pt-br">
<meta charset="utf-8">

<html>
    <head>
      <title>Postos24Hrs - Localização </title> 
        <link rel="stylesheet" type="text/css" href="estilo.css">
        

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
   crossorigin=""/>
   <!-- Make sure you put this AFTER Leaflet's CSS -->

    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
   integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
   crossorigin=""></script>

    </head>
    <body>
    
        
    
        <nav id="menu">

            <ul>

                <li><a href="/pronatec/">Início</a></li>
                <li><a href="/pronatec/mapa.html">Localização</a></li>
                <li><a href="/pronatec/outros.html">Outros</a></li>
                <li><a href="/pronatec/contato.html">Contato</a></li>
                <label style="width: 10px"></label>||
                <li><a href="https://alexandrepronatec.github.io/2018_2/Aulas.html">Página da Disciplina</a></li>

            </ul>

        </nav>


        <div id="map" style=" margin-left:5%; width: 90%; height: 90%"></div>


            
            
            


          <script type="text/javascript">
  
          var map = L.map('map').setView([-7.08, -41.48], 14); 
          L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
          }).addTo(map);

          var Postos = [];
          Postos[0] = L.marker([-7.084423,-41.470929]).addTo(map);
          Postos[1] = L.marker([-7.08782,-41.474757]).addTo(map);
          Postos[2] = L.marker([-7.078376,-41.485132]).addTo(map);
          Postos[3] = L.marker([-7.086425,-41.470261]).addTo(map);
          Postos[4] = L.marker([-7.087948,-41.470358]).addTo(map);

          Postos[0].bindPopup("<b>Posto Total</b><br> Preço : R$ 3,85 <p> Nota: 3,4 </p>").openPopup();
          Postos[1].bindPopup("<b>Posto Facilite</b><br> Preço : R$ 2,75 <p> Nota: 4,4 </p>").openPopup();
          Postos[2].bindPopup("<b>Posto Shell</b><br> Preço : R$ 4,67 <p> Nota: 4,3 </p>").openPopup();
          Postos[3].bindPopup("<b>Posto Três Corações</b><br> Preço : R$ 3,10 <p> Nota: 3,8 </p>").openPopup();
          Postos[4].bindPopup("<b>Posto Machado</b><br> Preço : R$ 5,10 <p> Nota: 4,8 </p>").openPopup();

      



      var popup = L.popup();

      function onMapClick(e) {
          popup
              .setLatLng(e.latlng)
              .setContent("You clicked the map at " + e.latlng.toString())
              .openOn(map);
          
          var ponto = [e.latlng.lat,e.latlng.lng];
          console.log(ponto);
          
          console.log(Distancia(ponto, Postos[0]));
          console.log(Distancia(ponto, Postos[1]));
          console.log(Distancia(ponto, Postos[2]));
          console.log(Distancia(ponto, Postos[3]));
          console.log(Distancia(ponto, Postos[4]));


      }


      map.on('click', onMapClick);


      function Distancia(C1, C2){
        return Math.sqrt(((C2[0] - C1[0]) ^ 2) + ((C2[1] - C1[1]) ^ 2));

      }

        // latitude 07º04'37" sul e a uma longitude 41º28'01"
        
  /* Initialize the SVG layer */
  // map._initPathRoot()    


        </script>




    </body>
</html>